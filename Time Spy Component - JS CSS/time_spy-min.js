document.addEventListener("DOMContentLoaded",function(){function e(e){var t={},o=e.getBoundingClientRect();return t.height=o.height,t.top=o.top,t.bottom=o.bottom,t}function t(e,t,n){var i=parseInt(r.style.top,10),d=t-n,f=i/d,g=l-l*f;w.innerHTML=o(g,"minutes",e),s.innerHTML=o(g,"seconds",e)}function o(e,t,o){var n=e/o;if("minutes"===t){return n-n%1}if("seconds"===t){var i=n%1*100,r=Math.floor(.6*i);return r<0&&(r=0),r}}function n(){var t=e(f),o=e(r),n=d.scrollHeight,i=f.offsetTop+t.height,w=o.height/2;f.offsetTop<u&&window.pageYOffset<window.innerHeight&&(console.log("timeSpy.style.top - "+r.style.top+" - window.pageYOffset - "+window.pageYOffset+" - window.innerHeight"+window.innerHeight+" - halfScrollHeight - "+w+" - windowMiddleMinusScroll"+c+" - parentRect.top - "+t.top),console.log(.45*(window.pageYOffset-window.innerHeight)),r.style.top=.45*(window.pageYOffset-window.innerHeight)+w+c-t.top+"px"),(o.top<c&&o.bottom<=t.bottom&&t.bottom>h||t.top<c&&t.bottom>u&&!(window.pageYOffset<window.innerHeight&&t.top<h&&f.offsetTop<c))&&(n-i<window.innerHeight&&window.pageYOffset<n-2*window.innerHeight||n-i>window.innerHeight)&&((!(f.offsetTop<c)||window.pageYOffset<window.innerHeight)&&f.offsetTop<c||(r.style.top=c-t.top+"px",console.log("2"))),t.top>c&&(r.style.top=0,console.log("3")),n-i<window.innerHeight&&window.pageYOffset>n-2*window.innerHeight&&(r.style.top=window.pageYOffset+c-f.offsetTop+.4*-(n-window.pageYOffset-2*window.innerHeight)+"px",console.log("4")),t.bottom<=u&&(console.log("5"),r.style.top=t.height-o.height+"px")}var i={};i.countWords=function(e){for(var t=[",",".",":",";","-","!","-","(",")","?","&","/",'"',"[","]","|","$","@","#","'"],o=t.length,n="",i=0;i<o;i++)for(;-1!==e.indexOf(t[i]);)var e=e.replace(t[i]," ");return n=e.split(" "),n.length};var r=document.getElementById("scrollspy"),w=r.querySelector(".minutes"),s=r.querySelector(".seconds"),d=document.body,f=r.parentElement,g=e(f),p=e(r),l=i.countWords(f.innerText),h=window.innerHeight/2,a=p.height/2,c=h-a,u=h+a,H="fast";if(1)if(0)var m=275;else var m=315;else var m=235;window.addEventListener("scroll",function(){n(),t(m,g.height,p.height)}),window.addEventListener("DOMContentLoaded",function(){n(),t(m,g.height,p.height)})});